#include <iostream>
#include <string>

#include "log_duration.h"

using namespace std;

// main —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏,
// –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é argc,
// –∞ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –≤ argv.
// –¢–∏–ø const char** –±—É–¥–µ—Ç –æ–±—Å—É–∂–¥–∞—Ç—å—Å—è –ø–æ–∑–∂–µ –≤ –∫—É—Ä—Å–µ, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –º–æ–∂–Ω–æ
// –æ—Ç—á–∞—Å—Ç–∏ –∫–∞–∫ —Å –≤–µ–∫—Ç–æ—Ä–æ–º: argv[0] ‚Äî –Ω—É–ª–µ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç, argv[1] ‚Äî –ø–µ—Ä–≤—ã–π.
// argv[i] –º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ string
int main(int argc, const char** argv) {
    // –ù—É–ª–µ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –∏–º—è –ø—Ä–æ–≥—Ä–∞–º–º—ã,
    // –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–µ–Ω –ø–µ—Ä–≤—ã–π
    int arg = stoi(argv[1]);

    if (arg == 1) {
        LOG_DURATION("endl"s);
        int i;
        while (cin >> i) {
            cout << i * i << endl;
        }
    }

    if (arg == 2) {
        // –ß—Ç–æ–±—ã "\n" –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–ª–æ—Å—å –Ω–µ –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏, –∞ –∫–∞–∫
        // —Å–ª—ç—à –∏ –±—É–∫–≤–∞ 'n', –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–¥ –Ω–∏–º –µ—â—ë –æ–¥–∏–Ω —Å–ª–µ—à:
        // –¥–≤–∞ —Å–ª–µ—à–∞ –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–º (–∏ —Å–∏–º–≤–æ–ª—å–Ω–æ–º) –ª–∏—Ç–µ—Ä–∞–ª–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è
        // –∫–∞–∫ –æ–¥–∏–Ω (\)
        LOG_DURATION("\\n"s);
        int i;
        while (cin >> i) {
            cout << i * i << "\n"s;
        }
    }
}
/* Tie & untie
 if (arg == 3) {
     LOG_DURATION("\\n with tie"s);
     auto tied_before = cin.tie(nullptr);

     int i;
     while (cin >> i) {
         cout << i * i << "\n"s;
     }

     cin.tie(tied_before);
 }
 //ios_base::sync_with_stdio(false)
 */

/*
 –ó–∞–ø—É—Å–∫–∞—Ç—å –±—É–¥–µ–º, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ –∏ –≤—ã–≤–æ–¥:
 $ sqnums 1 >numbers2.txt <numbers.txt
 –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞–º–∏ > –∏ < –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫–∏ cin –∏ cout —Å —Ñ–∞–π–ª–∞–º–∏. –¢–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ –ø–æ—Ç–æ–∫ cin –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ numbers.txt. –ë–ª–∞–≥–æ–¥–∞—Ä—è > –¥–∞–Ω–Ω—ã–µ –∏–∑ cout –ø–æ–π–¥—É—Ç –≤ —Ñ–∞–π–ª numbers2.txt, –∞ –Ω–µ –≤ –æ–∫–Ω–æ –∫–æ–Ω—Å–æ–ª–∏. –ï—Å–ª–∏ —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \n, –º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä 1 –Ω–∞ 2:
 $ sqnums 2 >numbers2.txt <numbers.txt
 –°–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
 $ sqnums 1 >numbers2.txt <numbers.txt
 endl: 410 ms
 $ sqnums 2 >numbers2.txt <numbers.txt
 \n: 408 ms
 üìñ  –í –∫–æ–º–∞–Ω–¥–µ sqnums 2 >numbers2.txt <numbers.txt –ø—Ä–æ–±–µ–ª –º–µ–∂–¥—É 2 –∏ > –≤–∞–∂–µ–Ω: –±–µ–∑ –Ω–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 2>, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ cerr.
 */
